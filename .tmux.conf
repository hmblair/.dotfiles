# Tmux configuration with Tokyo Night colors
# Tokyo Night: https://github.com/enkia/tokyo-night-vscode-theme

# ==============================================================================
# General
# ==============================================================================
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:RGB"
set -g history-limit 20000
set -s escape-time 0
set -g focus-events on
set -g mouse on
set -g set-clipboard on

# ==============================================================================
# Numbering
# ==============================================================================
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

# ==============================================================================
# Windows & Panes
# ==============================================================================
setw -g automatic-rename on
setw -g automatic-rename-format "#{pane_current_command}"

# ==============================================================================
# Prefix
# ==============================================================================
# Default Ctrl-B is fine, uncomment below to change to Ctrl-A
# unbind C-b
# set -g prefix C-a
# bind C-a send-prefix

# ==============================================================================
# Key Bindings
# ==============================================================================
# Split panes with | and -
unbind %
unbind '"'
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# Create new window with c
bind c new-window -c "#{pane_current_path}"

# Reload config
bind r source-file ~/.tmux.conf \; display "Config reloaded"

# Quick help popup (press q to close)
bind ? display-popup -w 50 -h 14 -E "printf '\n  ESSENTIALS (q to close)\n  ────────────────────────\n  d       detach\n  [       copy/scroll mode (q to exit)\n  c       new window\n  |       split vertical\n  -       split horizontal\n  x       kill pane\n  z       zoom pane\n  ,       rename window\n' | less -R"

# ==============================================================================
# Tokyo Night Colors
# ==============================================================================
# Background: #1a1b26
# Foreground: #c0caf5
# Selection: #283457
# Red: #f7768e
# Green: #9ece6a
# Yellow: #e0af68
# Blue: #7aa2f7
# Magenta: #bb9af7
# Cyan: #7dcfff

# Status bar styling
set -g status-style "bg=#1a1b26,fg=#c0caf5"
set -g status-left "#[bg=#7aa2f7,fg=#1a1b26,bold] #S #[default] "
set -g status-right "#{?client_prefix,#[bg=#bb9af7#,fg=#1a1b26#,bold] PREFIX #[default],}#[fg=#7dcfff]%H:%M #[fg=#9ece6a]%a %d-%b"

# Window styling
setw -g window-status-style "bg=#1a1b26,fg=#545c7e"
setw -g window-status-current-style "bg=#7aa2f7,fg=#1a1b26,bold"
setw -g window-status-separator " "
setw -g window-status-format " #I: #W "
setw -g window-status-current-format " #I: #W "

# Pane borders
set -g pane-border-style "bg=#1a1b26,fg=#545c7e"
set -g pane-active-border-style "bg=#1a1b26,fg=#7aa2f7"

# Command mode
set -g message-command-style "bg=#1a1b26,fg=#c0caf5"
set -g message-style "bg=#1a1b26,fg=#c0caf5"

# Mode indicator (copy mode) - magenta background like neovim INSERT mode
setw -g mode-style "bg=#bb9af7,fg=#1a1b26,bold"

